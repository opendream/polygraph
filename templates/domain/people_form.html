{% extends 'base_single.html' %}
{% load i18n %}

{% block js %}
{{ form.media }}
{% endblock %}

{% block title %}{% if form.is_new %}{% trans "Create" %}{% else %}{% trans "Edit" %}{% endif %} {{ form.inst.inst_name }}{% endblock %}
{% block content_class %} content-smart{% endblock %}

{% block content %}
<form method="post" class="form-horizontal" role="form" enctype="multipart/form-data">
    {% csrf_token %}

    {% if form.non_field_errors %}
    <div class="errors alert alert-danger">{{ form.non_field_errors }}</div>
    {% endif %}

    <div class="controls form-group">
        <label for="id_permalink" class="col-sm-2 control-label">{% trans "Permalink" %}</label>
        <div class="col-sm-10">
            <input id="id_permalink" name="permalink" type="text" class="form-control" value="{{ form.permalink.value|default_if_none:"" }}" required>
            <span class="help-block">{{ form.permalink.help_text }}</span>
            {% if form.permalink.errors %}
            <div class="errors alert alert-danger">{{ form.permalink.errors }}</div>
            {% endif %}
        </div>
    </div>

    <div class="controls form-group">
        <label for="id_first_name" class="col-sm-2 control-label">{% trans "First name" %}</label>
        <div class="col-sm-10">
            <input id="id_first_name" name="first_name" type="text" class="form-control" value="{{ form.first_name.value|default_if_none:"" }}">
            {% if form.first_name.errors %}
            <div class="errors alert alert-danger">{{ form.first_name.errors }}</div>
            {% endif %}
        </div>
    </div>

    <div class="controls form-group">
        <label for="id_last_name" class="col-sm-2 control-label">{% trans "Last name" %}</label>
        <div class="col-sm-10">
            <input id="id_last_name" name="last_name" type="text" class="form-control" value="{{ form.last_name.value|default_if_none:"" }}">
            {% if form.last_name.errors %}
            <div class="errors alert alert-danger">{{ form.last_name.errors }}</div>
            {% endif %}
        </div>
    </div>

    <div class="controls form-group">
        <label for="id_occupation" class="col-sm-2 control-label">{% trans "Occupation" %}</label>
        <div class="col-sm-10">
            <input id="id_occupation" name="occupation" type="text" class="form-control" value="{{ form.occupation.value|default_if_none:"" }}">
            {% if form.occupation.errors %}
            <div class="errors alert alert-danger">{{ form.occupation.errors }}</div>
            {% endif %}
        </div>
    </div>

    <div class="controls form-group">
        <label for="id_categories" class="col-sm-2 control-label">{% trans "Categories" %}</label>
        <div class="col-sm-10 checkbox">
            <ul>
                {% for category in form.categories %}
                <li>
                    {{ category.tag }}
                    <label for="id_categories_{{ category.index }}">{{ category.choice_label }}</label>
                </li>
                {% endfor %}
            </ul>

            {% if form.categories.errors %}
            <div class="errors alert alert-danger">{{ form.categories.errors }}</div>
            {% endif %}
        </div>
    </div>

    <div class="controls form-group">
        <label for="id_description" class="col-sm-2 control-label">{% trans "Description" %}</label>
        <div class="col-sm-10">
            {{ form.description }}
            {% if form.description.errors %}
            <div class="errors alert alert-danger">{{ form.description.errors }}</div>
            {% endif %}
        </div>
    </div>

    <div class="controls form-group">
        <label for="id_homepage_url" class="col-sm-2 control-label">{% trans "Homepage" %}</label>
        <div class="col-sm-10">
            <input id="id_homepage_url" name="homepage_url" type="text" class="form-control" value="{{ form.homepage_url.value|default_if_none:"" }}">
            {% if form.homepage_url.errors %}
            <div class="errors alert alert-danger">{{ form.homepage_url.errors }}</div>
            {% endif %}
        </div>
    </div>


    <div class="controls form-group">
        <label for="id_image" class="col-sm-2 control-label">{% trans "Picture" %}</label>
        <div class="col-sm-10">
            {{ form.image }}
            {% if form.image.errors %}
            <div class="errors alert alert-danger">{{ form.image.errors }}</div>
            {% endif %}
        </div>
    </div>


    <div class="controls form-group inst-status">
        <label for="id_status" class="col-sm-2 control-label">{% trans "Status" %}</label>
        <div class="col-sm-10 radio">
            {% for status in form.status %}
                {{ status.tag }}
                 <label for="id_status_{{ status.index }}">{{ status.choice_label }}</label>
            {% endfor %}

            {% if form.status.errors %}
            <div class="errors alert alert-danger">{{ form.status.errors }}</div>
            {% endif %}
        </div>
    </div>



    <div class="controls form-group">
        <div class="col-sm-offset-2 col-sm-10 form-action">
            <button class="btn btn-primary" type="submit">{% if form.is_new %}{% trans "Save new" %}{% else %}{% trans "Save changes" %}{% endif %}</button>
            {% if not request_popup %}
            <a href="{% url 'home' %}" class="btn btn-cancle flat-btn">{% trans "Cancel" %}</a>

            {% if not form.is_new %}
            <a class="btn btn-delete" href="{% url 'domain_delete' 'people' form.inst.id %}">{% trans "Delete" %}</a>
            {% endif %}

            {% endif %}
        </div>
    </div>
</form>

{% endblock %}